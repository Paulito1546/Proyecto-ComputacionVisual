* {
  margin: 0;
  padding: 0;
  box-sizing: border-box;
}

body {
  overflow: hidden;
  font-family: -apple-system, BlinkMacSystemFont, 'Segoe UI', 'Roboto', 'Oxygen',
    'Ubuntu', 'Cantarell', 'Fira Sans', 'Droid Sans', 'Helvetica Neue',
    sans-serif;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

canvas {
  display: block;
}
import { Canvas } from '@react-three/fiber'
import { useState, useCallback } from 'react'
import { useControls } from 'leva'
import Scene from './components/Scene'
import useVoiceAndEEG from './hooks/useVoiceAndEEG'
import HandTracker from './components/HandTracker'
import './App.css'

/**
 * ğŸŒ¿ Synesthetic Garden â€” Application principale
 * IntÃ¨gre :
 *  - ContrÃ´les Leva (jour/nuit, camÃ©ra)
 *  - Reconnaissance vocale (Web Speech API)
 *  - DÃ©tection de gestes (MediaPipe)
 *  - Simulation EEG (valeurs colorimÃ©triques)
 *  - Statut camÃ©ra visible en direct
 */
function App() {
  // ğŸ›ï¸ ContrÃ´les globaux (jour/nuit, camÃ©ra, profondeur)
  const { timeOfDay, cameraType, showDepth } = useControls('Global Controls', {
    timeOfDay: { value: 'day', options: ['day', 'night'], label: 'Time of Day' },
    cameraType: { value: 'perspective', options: ['perspective', 'orthographic'], label: 'Camera Type' },
    showDepth: { value: false, label: 'Show Depth Visualization' }
  })

  // ğŸ“· Ã‰tat camÃ©ra (waiting | starting | ready | error)
  const [cameraStatus, setCameraStatus] = useState('waiting')

  // ğŸ§  Hook personnalisÃ© : voix + EEG simulÃ©
  const { command, setCommand, eegValue } = useVoiceAndEEG()

  // âœ‹ Geste dÃ©tectÃ© via MediaPipe
  const [gesture, setGesture] = useState(null)
  const handleGesture = useCallback(
    (g) => {
      setGesture(g)
      // On mappe les gestes vers des commandes vocales Ã©quivalentes
      if (g === 'open') setCommand('flor')
      else if (g === 'fist') setCommand('noche')
    },
    [setCommand]
  )

  return (
    <div style={{ width: '100vw', height: '100vh' }}>
      {/* ğŸ”¹ DÃ©tection de gestes (webcam) */}
      <HandTracker onGesture={handleGesture} onCameraStatusChange={setCameraStatus} />

      {/* ğŸ”¹ ScÃ¨ne 3D principale */}
      <Canvas camera={{ position: [0, 5, 15], fov: 60 }} shadows>
        <Scene
          timeOfDay={timeOfDay}
          cameraType={cameraType}
          showDepth={showDepth}
          command={command}
          eegValue={eegValue}
        />
      </Canvas>

      {/* ğŸ”¹ Interface utilisateur (overlay) */}
      <div
        style={{
          position: 'absolute',
          top: '20px',
          left: '20px',
          color: 'white',
          fontFamily: 'monospace',
          textShadow: '1px 1px 2px black'
        }}
      >
        <h2>ğŸŒ¿ Synesthetic Garden</h2>
        <p>ğŸ—“ï¸ Time: {timeOfDay === 'day' ? 'â˜€ï¸ Day' : 'ğŸŒ™ Night'}</p>
        <p>ğŸ¥ Camera: {cameraType === 'perspective' ? 'ğŸ“· Perspective' : 'ğŸ“ Orthographic'}</p>
        <p>ğŸ—£ï¸ Commande: {command || 'â€”'}</p>
        <p>âœ‹ Geste: {gesture || 'â€”'}</p>
        <p>ğŸ§  EEG: {eegValue.toFixed(2)}</p>
        <p>
          ğŸ“· CamÃ©ra:{' '}
          {cameraStatus === 'ready'
            ? 'âœ… DÃ©tectÃ©e'
            : cameraStatus === 'starting'
            ? 'âŒ› Initialisation...'
            : cameraStatus === 'error'
            ? 'âŒ Erreur'
            : 'ğŸš« En attente...'}
        </p>
        {showDepth && <p>ğŸ¨ Depth Mode Active</p>}
      </div>
    </div>
  )
}

export default App
:root {
  font-family: system-ui, Avenir, Helvetica, Arial, sans-serif;
  line-height: 1.5;
  font-weight: 400;

  color-scheme: light dark;
  color: rgba(255, 255, 255, 0.87);
  background-color: #242424;

  font-synthesis: none;
  text-rendering: optimizeLegibility;
  -webkit-font-smoothing: antialiased;
  -moz-osx-font-smoothing: grayscale;
}

a {
  font-weight: 500;
  color: #646cff;
  text-decoration: inherit;
}
a:hover {
  color: #535bf2;
}

body {
  margin: 0;
  display: flex;
  place-items: center;
  min-width: 320px;
  min-height: 100vh;
}

h1 {
  font-size: 3.2em;
  line-height: 1.1;
}

button {
  border-radius: 8px;
  border: 1px solid transparent;
  padding: 0.6em 1.2em;
  font-size: 1em;
  font-weight: 500;
  font-family: inherit;
  background-color: #1a1a1a;
  cursor: pointer;
  transition: border-color 0.25s;
}
button:hover {
  border-color: #646cff;
}
button:focus,
button:focus-visible {
  outline: 4px auto -webkit-focus-ring-color;
}

@media (prefers-color-scheme: light) {
  :root {
    color: #213547;
    background-color: #ffffff;
  }
  a:hover {
    color: #747bff;
  }
  button {
    background-color: #f9f9f9;
  }
}
import { StrictMode } from 'react'
import { createRoot } from 'react-dom/client'
import './index.css'
import App from './App.jsx'

createRoot(document.getElementById('root')).render(
  <StrictMode>
    <App />
  </StrictMode>,
)
